!function($){var e;$.getJSON("json/data.json",(function(t){e=t;var n=new ScrollMagic.Controller,r=e.length,o=0,s=0,a=0;function i(){$(".nb-question").html(r),$(".nb-correct").html(s),$(".percent-correct").html(a),o===r&&$(".warning").fadeOut()}i(),function(e){var t=$("#question-template").html(),n=Handlebars.compile(t),r=e.map((function(t,n){return{...t,index:n,totalQuestions:e.length}})),o=n({question:r});$(".questions").prepend(o)}(e),$(".answer").on("click",(function(){if(!$(this).closest(".question").hasClass("answered")){o+=1;var t=$(this).closest(".question").attr("id").replace("q",""),n=$(this).index(),c=e[t].questionAnswers[n].answerIsTrue,u=e[t].questionHint;c?($(this).addClass("correct"),u&&$(this).closest(".question").find(".hint").html('<span class="correct-txt font-semibold underline decoration-2">Correct:</span> '+u),s+=1):($(this).addClass("error"),$(this).closest(".question").find(".answer").each((function(){e[t].questionAnswers[$(this).index()].answerIsTrue&&$(this).addClass("correct")})),u&&$(this).closest(".question").find(".hint").html('<span class="error-txt font-semibold underline decoration-2">Erreur:</span> '+u)),$(this).closest(".question").addClass("answered"),a=(100/r*s).toFixed(2),i()}}));var c=$(".sumup"),u=$(".gauge"),l=u.find(".gauge-cursor"),d=u.find(".gauge-bg"),p=c.find(".nb-results"),h=c.find(".percent-results"),f=c.find(".final-text"),g=c.find(".btn-redo"),m=c.find(".btn-shar");(new TimelineMax).set(c,{autoAlpha:.3,transformOrigin:"center center"}).set(d,{autoAlpha:0,y:"-=10px",transformOrigin:"center center"}).set(l,{autoAlpha:0,y:"-=20px",transformOrigin:"center center"}).set(p,{autoAlpha:0,y:"-=10px",transformOrigin:"center center"}).set(h,{autoAlpha:0,y:"-=10px",transformOrigin:"center center"}).set(f,{autoAlpha:0,transformOrigin:"center center"}).set(g,{autoAlpha:0,y:"-=10px",transformOrigin:"center center"}).set(m,{autoAlpha:0,y:"-=10px",transformOrigin:"center center"});var w=!1;function x(){$(".nb-correct").counterUp({delay:10,time:1e3})}function O(){$(".percent-correct").counterUp({delay:10,time:1e3})}new ScrollMagic.Scene({triggerElement:".gauge"}).on("enter",(function(e){o===r&&(0==w&&(100==a&&(a=95),new TimelineMax({paused:!0}).to(c,.3,{autoAlpha:1,ease:Power4.easeInOut}).to(d,1,{autoAlpha:1,y:"+=10px",ease:Power4.easeInOut}).to(l,.5,{autoAlpha:1,y:"+=20px",ease:Power4.easeInOut,onComplete:x},"-=0.5").to(p,.3,{autoAlpha:1,y:"+=10px",ease:Power4.easeInOut}).to(l,2,{left:a+"%",ease:Power4.easeInOut,onComplete:O}).to(h,.3,{autoAlpha:1,y:"+=10px",ease:Power4.easeInOut}).to(f,.3,{autoAlpha:1,ease:Power4.easeInOut},"+=1.5").to(g,.7,{autoAlpha:1,y:"+=10px",ease:Power4.easeInOut},"+=1.7").to(m,.7,{autoAlpha:1,y:"+=10px",ease:Power4.easeInOut}).play(),w=!0))})).triggerHook(.6).addTo(n),$(".btn-shar").on("click",(function(){$(".aside-r-toggle").click()}))})).fail((function(e,t,n){console.error("No quiz data found",t,n)})),window.scrollTo(0,0),setTimeout((function(){$("body").addClass("is-visible")}),1e3),Handlebars.registerHelper("indexFormatter",(function(e){return e+1}))}(jQuery);